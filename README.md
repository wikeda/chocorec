# TrainingRec

トレーニングの回数を記録するスマートフォン専用Webアプリケーション。

## 特徴

- 📱 スマートフォン専用に最適化されたUI
- 💪 カスタマイズ可能なトレーニング種目（最大50種目）
- 🎨 種目ごとに色をカスタマイズ可能
- 📊 週次・月次の積層グラフでトレーニング履歴を可視化
- 💾 ローカルストレージでデータを保存（オフライン動作可能）
- 📥 CSV形式でデータをエクスポート可能
- ✏️ 過去の記録を編集・削除可能
- 🔢 総回数表示機能

## 機能

### トレーニング記録
- 日付選択（過去7日まで）
- トレーニング種目選択（種目マスタから選択）
- 回数選択（1～50回）
- セット数選択（1～10セット）
- 種目ごとに前回の回数・セット数を自動入力

### 種目マスタ管理
- 種目の追加・編集・削除（論理削除）
- 種目名と色のカスタマイズ
- 並び順の入れ替え（上下ボタン）
- 種目名変更時は過去の記録も自動更新
- 削除した種目の過去記録は保持
- 最大50種目まで登録可能

### デフォルト種目（初期状態）
1. レッグプレス
2. チェストプレス
3. ラットプルダウン
4. アブベンチ
5. アブダクション
6. アダクション
7. ディップス
8. ショルダープレス
9. バイセップスカール

### グラフ表示
- 週次グラフ：過去7日間のトレーニング記録を積層グラフで表示
- 月次グラフ：過去30日間のトレーニング記録を積層グラフで表示
- 各種目は設定した色で表示
- 削除済み種目も過去データとして表示
- 総回数表示：選択した期間の総トレーニング回数を表示
- 週/月のナビゲーション機能

### 履歴管理
- メイン画面右上の「履歴」リンクから履歴画面へ遷移
- 過去の記録をコンパクトなテーブル形式で表示
- ラジオボタンで記録を選択し、ヘッダーの「編集」ボタンで編集
- 編集モーダルで記録の修正・削除が可能
- 削除時は確認ダイアログが表示される
- 日付ごとにグループ化して表示

### データエクスポート
- 履歴画面上部の「CSV出力」ボタンからダウンロード
- CSV形式で全記録をエクスポート
- Excel等で開ける形式（UTF-8 BOM付き）

## 使用方法

1. `index.html`をブラウザで開く
2. 必要に応じて「種目」ボタンから種目をカスタマイズ
3. フォームから日付、種目、回数、セット数を選択
4. 「記録する」ボタンをクリック
5. グラフで記録を確認（総回数も表示）
6. 「履歴」リンクから過去の記録を確認・編集・削除・CSV出力が可能

## 技術スタック

- HTML5 / CSS3 / JavaScript (ES6+)
- Chart.js（グラフ描画）
- LocalStorage API（データ保存）

## ファイル構成

```
TrainingRec/
├── index.html              # メイン画面
├── history.html            # 履歴管理画面
├── exercises.html          # 種目管理画面
├── css/
│   ├── style.css           # 基本スタイル
│   ├── components.css      # UIコンポーネントスタイル
│   ├── history.css         # 履歴画面スタイル
│   └── exercises.css       # 種目管理画面スタイル
├── js/
│   ├── app.js              # アプリケーションエントリーポイント
│   ├── exerciseMaster.js   # 種目マスタデータ管理
│   ├── exercises.js        # 種目管理画面ロジック
│   ├── constants.js        # 定数定義（種目マスタから動的取得）
│   ├── data.js             # データ管理（LocalStorage操作）
│   ├── validator.js        # バリデーションロジック
│   ├── ui.js               # UI制御ロジック
│   ├── chart.js            # グラフ描画ロジック
│   ├── export.js           # CSVエクスポート機能
│   └── history.js          # 履歴画面ロジック
└── docs/
    ├── requirements.md     # 要件定義書
    ├── design.md           # 設計書
    └── layout-proposals.md # レイアウト提案
```

## データ構造

### トレーニング記録
```javascript
{
  id: string,              // 一意のID（UUID）
  date: string,            // 日付（YYYY-MM-DD）
  exercise: string,        // 種目名
  count: number,           // 回数
  sets: number,            // セット数
  createdAt: string,       // 作成日時（ISO形式）
  updatedAt: string        // 更新日時（ISO形式）
}
```

### 種目マスタ
```javascript
{
  id: string,              // 一意のID（UUID）
  name: string,            // 種目名
  color: string,           // カラーコード（#xxxxxx）
  order: number,           // 並び順
  isActive: boolean,       // アクティブフラグ（false=削除済み）
  createdAt: string,       // 作成日時（ISO形式）
  updatedAt: string        // 更新日時（ISO形式）
}
```

### グラフ表示の計算
- 各日のトレーニング負荷 = 回数 × セット数
- 種目ごとに積層して表示
- 総回数は全種目の合計負荷を表示

## デプロイ

GitHub Pagesで動作確認済み。

1. リポジトリをGitHubにプッシュ
2. リポジトリの設定からGitHub Pagesを有効化
3. `index.html`をルートに配置

## ライセンス

MIT License
